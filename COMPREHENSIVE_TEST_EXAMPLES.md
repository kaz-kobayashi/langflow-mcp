# 全機能網羅的テスト入力例集

このドキュメントは、langflow-mcpプロジェクトの全34個のMCPツールを網羅的にテストするための入力例を提供します。

**最終更新**: 2025-10-09
**対象**: 全34個のMCPツール

---

## 目次

1. [在庫最適化](#1-在庫最適化-4ツール)
2. [シミュレーション](#2-シミュレーション-6ツール)
3. [発注方策の最適化](#3-発注方策の最適化-4ツール)
4. [需要予測と分析](#4-需要予測と分析-4ツール)
5. [EOQ計算](#5-eoq計算-2ツール)
6. [Wagner-Whitinアルゴリズム](#6-wagner-whitinアルゴリズム-1ツール)
7. [学習率最適化](#7-学習率最適化-1ツール)
8. [ネットワーク分析](#8-ネットワーク分析-1ツール)
9. [ポリシー比較](#9-ポリシー比較-1ツール)
10. [可視化](#10-可視化-10ツール)
11. [ユーティリティ](#11-ユーティリティ-1ツール)

---

## 1. 在庫最適化（4ツール）

### 1.1 optimize_safety_stock_allocation

**目的**: タブーサーチによる安全在庫配置の最適化

**入力例**:
```
3段階サプライチェーンで、タブーサーチを使用して安全在庫配置を最適化してください。

品目データ（JSON形式）:
[
  {
    "name": "原材料",
    "h": 1.0,
    "b": 50.0,
    "average_demand": 0,
    "std_demand": 0,
    "lead_time": 2.0,
    "echelon_lead_time": 5.0
  },
  {
    "name": "中間品",
    "h": 2.0,
    "b": 100.0,
    "average_demand": 0,
    "std_demand": 0,
    "lead_time": 2.0,
    "echelon_lead_time": 3.0
  },
  {
    "name": "最終製品",
    "h": 5.0,
    "b": 150.0,
    "average_demand": 100.0,
    "std_demand": 20.0,
    "lead_time": 1.0,
    "echelon_lead_time": 1.0
  }
]

BOMデータ（JSON形式）:
[
  {"child": "原材料", "parent": "中間品", "units": 1.0},
  {"child": "中間品", "parent": "最終製品", "units": 1.0}
]

パラメータ:
- z値: 1.65（95%サービスレベル）
- 最大反復回数: 100
- タブー期間: 5
```

**期待される結果**:
- 最適コスト: 約600-800
- 各段階の安全在庫レベル
- 反復回数とコスト履歴

---

### 1.2 calculate_safety_stock

**目的**: 安全在庫の計算

**入力例**:
```
以下の条件で安全在庫を計算してください：

- 需要の平均: 100個/日
- 需要の標準偏差: 15個/日
- リードタイム: 7日
- サービスレベル: 95%
```

**期待される結果**:
- 安全在庫: 約62個
- z値: 1.65
- リードタイム需要の標準偏差: 約39.7個

---

### 1.3 calculate_base_stock_levels

**目的**: 基在庫レベルの計算

**入力例**:
```
4段階サプライチェーンの基在庫レベルを計算してください。

品目データ（JSON形式）:
[
  {"name": "原材料A", "h": 0.5, "average_demand": 0, "std_demand": 0, "lead_time": 2.0, "echelon_lead_time": 7.0},
  {"name": "原材料B", "h": 0.8, "average_demand": 0, "std_demand": 0, "lead_time": 3.0, "echelon_lead_time": 6.0},
  {"name": "中間品", "h": 2.0, "average_demand": 0, "std_demand": 0, "lead_time": 2.0, "echelon_lead_time": 3.0},
  {"name": "最終製品", "h": 5.0, "average_demand": 120.0, "std_demand": 18.0, "lead_time": 1.0, "echelon_lead_time": 1.0}
]

BOMデータ（JSON形式）:
[
  {"child": "原材料A", "parent": "中間品"},
  {"child": "原材料B", "parent": "中間品"},
  {"child": "中間品", "parent": "最終製品"}
]

z値: 1.96（97.5%サービスレベル）
```

**期待される結果**:
- 各段階の基在庫レベル
- エシェロンリードタイム

---

### 1.4 dynamic_programming_for_SSA

**目的**: 動的計画法による安全在庫配置の厳密解

**入力例**:
```
5段階のツリー構造ネットワークで、動的計画法により安全在庫配置の厳密解を求めてください。

品目データ（JSON形式）:
[
  {"name": "Stage0", "h": 0.5, "mu": 0, "sigma": 0, "proc_time": 1, "lead_time_lb": 1, "lead_time_ub": 2},
  {"name": "Stage1", "h": 1.0, "mu": 0, "sigma": 0, "proc_time": 1, "lead_time_lb": 1, "lead_time_ub": 2},
  {"name": "Stage2", "h": 2.0, "mu": 0, "sigma": 0, "proc_time": 1, "lead_time_lb": 1, "lead_time_ub": 2},
  {"name": "Stage3", "h": 3.0, "mu": 0, "sigma": 0, "proc_time": 1, "lead_time_lb": 1, "lead_time_ub": 2},
  {"name": "Stage4", "h": 5.0, "mu": 200.0, "sigma": 30.0, "proc_time": 1, "lead_time_lb": 1, "lead_time_ub": 2}
]

BOMデータ（JSON形式）:
[
  {"child": "Stage0", "parent": "Stage1"},
  {"child": "Stage1", "parent": "Stage2"},
  {"child": "Stage2", "parent": "Stage3"},
  {"child": "Stage3", "parent": "Stage4"}
]

z値: 1.65
```

**期待される結果**:
- 総コスト: 約247.50
- 保証リードタイム（Lstar）
- 正味補充時間（NRT）
- 安全在庫レベル

---

## 2. シミュレーション（6ツール）

### 2.1 simulate_qr_policy

**目的**: (Q,R)連続発注方策のシミュレーション

**入力例**:
```
(Q,R)発注方策のシミュレーションを実行してください。

パラメータ:
- サンプル数: 100
- シミュレーション期間: 200期
- 発注量Q: 150個
- 発注点R: 80個
- 需要の平均: 100個/日
- 需要の標準偏差: 15個/日
- リードタイム: 5日
- 在庫保管費用: 1円/個/日
- バックオーダーコスト: 100円/個
- 固定発注コスト: 500円
```

**期待される結果**:
- 平均コスト
- 平均在庫レベル
- サービスレベル
- 品切れ率

---

### 2.2 simulate_ss_policy

**目的**: (s,S)連続発注方策のシミュレーション

**入力例**:
```
(s,S)発注方策のシミュレーションを実行してください。

パラメータ:
- サンプル数: 100
- シミュレーション期間: 200期
- 発注点s: 75個
- 最大在庫レベルS: 225個
- 需要の平均: 100個/日
- 需要の標準偏差: 15個/日
- リードタイム: 5日
- 在庫保管費用: 1円/個/日
- バックオーダーコスト: 100円/個
- 固定発注コスト: 500円
```

**期待される結果**:
- 平均コスト
- 平均在庫レベル
- サービスレベル

---

### 2.3 simulate_base_stock_policy

**目的**: 基在庫方策のシミュレーション

**入力例**:
```
基在庫方策のシミュレーションを実行してください。

パラメータ:
- サンプル数: 100
- シミュレーション期間: 200期
- 基在庫レベル: 250個
- 需要の平均: 100個/日
- 需要の標準偏差: 15個/日
- リードタイム: 5日
- 在庫保管費用: 1円/個/日
- バックオーダーコスト: 100円/個
```

**期待される結果**:
- 平均コスト
- 在庫統計（平均、標準偏差、最小、最大）

---

### 2.4 simulate_multistage_inventory

**目的**: 多段階在庫シミュレーション

**入力例**:
```
4段階サプライチェーンで200期間のシミュレーションを実行してください。

パラメータ:
- サンプル数: 50
- シミュレーション期間: 200期
- 段階数: 4
- 平均需要: 120個/日
- 標準偏差: 18個/日
- リードタイム: [3, 2, 2, 1]日
- 発注点s: [250, 200, 180, 150]個
- 基在庫レベルS: [400, 320, 300, 250]個
- 在庫保管費用h: [0.5, 1.0, 2.0, 5.0]円/個/日
- バックオーダーコスト: 100円/個
- 固定発注コスト: 1000円
```

**期待される結果**:
- 平均コスト
- 各段階の在庫統計
- シミュレーション結果は自動保存（後で可視化可能）

---

### 2.5 simulate_network_base_stock

**目的**: ネットワークベースストックシミュレーション

**入力例**:
```
分岐構造を持つサプライチェーンネットワークでシミュレーションを実行してください。

品目データ（JSON形式）:
[
  {"name": "原材料", "h": 1.0, "b": 50.0, "average_demand": 0, "std_demand": 0, "lead_time": 2, "echelon_lead_time": 5, "capacity": 500},
  {"name": "中間品A", "h": 2.0, "b": 80.0, "average_demand": 0, "std_demand": 0, "lead_time": 2, "echelon_lead_time": 3, "capacity": 300},
  {"name": "中間品B", "h": 2.5, "b": 90.0, "average_demand": 0, "std_demand": 0, "lead_time": 2, "echelon_lead_time": 3, "capacity": 300},
  {"name": "最終製品", "h": 5.0, "b": 150.0, "average_demand": 100, "std_demand": 15, "lead_time": 1, "echelon_lead_time": 1, "capacity": 400}
]

BOMデータ（JSON形式）:
[
  {"child": "原材料", "parent": "中間品A", "units": 1.0, "allocation": 0.5},
  {"child": "原材料", "parent": "中間品B", "units": 1.0, "allocation": 0.5},
  {"child": "中間品A", "parent": "最終製品", "units": 1.0},
  {"child": "中間品B", "parent": "最終製品", "units": 1.0}
]

パラメータ:
- サンプル数: 30
- シミュレーション期間: 100期
- 基在庫レベル: {"原材料": 500, "中間品A": 300, "中間品B": 300, "最終製品": 250}
```

**期待される結果**:
- 総コスト
- 勾配情報
- 各段階の在庫統計

---

### 2.6 base_stock_simulation_using_dist

**目的**: 分布ベースの基在庫シミュレーション

**入力例1（正規分布）**:
```
正規分布の需要を持つシステムで基在庫シミュレーションを実行してください。

パラメータ:
- サンプル数: 100
- シミュレーション期間: 150期
- 需要分布: 正規分布
  - 平均（mu）: 100
  - 標準偏差（sigma）: 10
- リードタイム: 2期
- バックオーダーコスト: 100
- 在庫保管費用: 1
```

**入力例2（ガンマ分布）**:
```
ガンマ分布の需要を持つシステムで基在庫シミュレーションを実行してください。

パラメータ:
- サンプル数: 100
- シミュレーション期間: 150期
- 需要分布: ガンマ分布
  - 形状パラメータ（shape）: 4
  - スケールパラメータ（scale）: 25
- リードタイム: 3期
- 生産能力: 250
```

**期待される結果**:
- 基在庫レベル（自動計算）
- 平均コスト
- 勾配
- 在庫統計（品切れ率を含む）

---

## 3. 発注方策の最適化（4ツール）

### 3.1 optimize_qr_policy

**目的**: (Q,R)発注方策の最適化

**入力例**:
```
(Q,R)発注方策のパラメータを最適化してください。

パラメータ:
- 需要の平均: 100個/日
- 需要の標準偏差: 15個/日
- リードタイム: 5日
- 在庫保管費用: 1円/個/日
- バックオーダーコスト: 100円/個
- 固定発注コスト: 500円
- シミュレーションサンプル数: 50
- シミュレーション期間: 200期
```

**期待される結果**:
- 最適発注量Q
- 最適発注点R
- 期待コスト

---

### 3.2 optimize_ss_policy

**目的**: (s,S)発注方策の最適化

**入力例**:
```
(s,S)発注方策のパラメータを最適化してください。

パラメータ:
- 需要の平均: 120個/日
- 需要の標準偏差: 20個/日
- リードタイム: 7日
- 在庫保管費用: 1.5円/個/日
- バックオーダーコスト: 150円/個
- 固定発注コスト: 800円
- シミュレーションサンプル数: 50
- シミュレーション期間: 200期
```

**期待される結果**:
- 最適発注点s
- 最適最大在庫レベルS
- 期待コスト

---

### 3.3 optimize_periodic_inventory

**目的**: 定期発注方策の最適化（Adam、SGD、Momentum対応）

**入力例1（Adam）**:
```
4段階サプライチェーンの定期発注方策をAdamアルゴリズムで最適化してください。

パラメータ:
- サンプル数: 30
- シミュレーション期間: 150期
- 段階数: 4
- 平均需要: 120個/日
- 標準偏差: 18個/日
- リードタイム: [3, 2, 2, 1]日
- 在庫保管費用: [0.5, 1.0, 2.0, 5.0]円/個/日
- バックオーダーコスト: 100円/個
- 固定発注コスト: 1000円
- 学習率: 0.1
- 最大反復回数: 100
- 最適化アルゴリズム: adam
- beta1: 0.9
- beta2: 0.999
```

**入力例2（Momentum）**:
```
3段階サプライチェーンの定期発注方策をMomentumで最適化してください。

パラメータ:
- サンプル数: 30
- シミュレーション期間: 150期
- 段階数: 3
- 平均需要: 100個/日
- 最適化アルゴリズム: momentum
- momentum: 0.9
- 学習率: 0.05
```

**期待される結果**:
- 最適基在庫レベル（各段階）
- 最終コスト
- 反復回数
- コスト履歴
- 収束情報

---

### 3.4 optimize_periodic_with_one_cycle

**目的**: ワンサイクルLR法による定期発注最適化

**入力例**:
```
3段階サプライチェーンの定期発注方策をワンサイクルLR法で最適化してください。

パラメータ:
- サンプル数: 30
- シミュレーション期間: 150期
- 段階数: 3
- 平均需要: 100個/日
- 標準偏差: 15個/日
- 最大学習率: 1.0
- 最小学習率: 0.001
- 最大反復回数: 100
- Momentum最小値: 0.85
- Momentum最大値: 0.95
```

**期待される結果**:
- 最適基在庫レベル
- 最終コスト
- 学習率スケジュール
- Momentumスケジュール

---

## 4. 需要予測と分析（4ツール）

### 4.1 forecast_demand

**目的**: 需要予測（指数平滑法、移動平均法）

**入力例1（単純指数平滑法）**:
```
単純指数平滑法で需要を予測してください。

過去の需要データ:
[95, 102, 98, 105, 110, 108, 115, 112, 120, 118, 125, 122, 130, 128, 135, 132, 140, 138, 145, 143]

パラメータ:
- 予測期間: 10期
- 手法: ses
- 平滑化係数α: 0.3
```

**入力例2（二重指数平滑法）**:
```
二重指数平滑法で需要を予測してください。

過去の需要データ:
[100, 105, 110, 115, 120, 125, 130, 135, 140, 145, 150, 155, 160, 165, 170, 175, 180, 185, 190, 195]

パラメータ:
- 予測期間: 10期
- 手法: des
- 平滑化係数α: 0.3
- トレンド平滑化係数β: 0.1
```

**入力例3（移動平均法）**:
```
移動平均法で需要を予測してください。

過去の需要データ:
[98, 102, 95, 105, 100, 108, 103, 112, 107, 115, 110, 118, 113, 122, 117, 125, 120, 128, 123, 132]

パラメータ:
- 予測期間: 10期
- 手法: ma
- 窓サイズ: 5
```

**期待される結果**:
- 予測値（10期分）
- 使用した手法
- パラメータ

---

### 4.2 analyze_demand_pattern

**目的**: 需要パターンの分析

**入力例**:
```
以下の需要データのパターンを分析してください。

需要データ:
[95, 98, 102, 105, 108, 112, 115, 118, 122, 125, 128, 132, 135, 138, 142, 145, 148, 152, 155, 158, 162, 165, 168, 172, 175, 178, 182, 185, 188, 192]
```

**期待される結果**:
- 統計量（平均、標準偏差、変動係数、最小、最大）
- トレンド分析（有無、傾き、方向）
- 季節性情報

---

### 4.3 find_best_distribution

**目的**: 最適な確率分布のフィッティング

**入力例**:
```
以下の需要データに最適な確率分布をフィッティングしてください。

需要データ:
[92, 88, 105, 98, 102, 95, 108, 101, 97, 104, 99, 106, 100, 103, 96, 109, 102, 98, 105, 101, 107, 99, 103, 97, 110, 104, 100, 106, 102, 108, 101, 105, 99, 112, 103, 107, 100, 104, 98, 111, 105, 109, 102, 106, 100, 113, 107, 103, 108, 104]

試行する分布:
["norm", "gamma", "lognorm", "expon", "weibull_min"]
```

**期待される結果**:
- 最適な分布名
- パラメータ
- AIC、BIC値
- 全ての試行結果

---

### 4.4 fit_histogram_distribution

**目的**: ヒストグラム分布のフィッティング

**入力例**:
```
以下の需要データからヒストグラム分布を作成してください。

需要データ:
[85, 90, 88, 95, 92, 98, 93, 100, 96, 102, 97, 105, 99, 108, 101, 110, 103, 112, 105, 115, 107, 118, 109, 120, 111, 122, 113, 125, 115, 128, 117, 130, 119, 132, 121, 135, 123, 138, 125, 140, 127, 142, 129, 145, 131, 148, 133, 150, 135, 152]

ビン数: 30
```

**期待される結果**:
- 分布タイプ: histogram
- ビン数
- ヒストグラムデータ（度数、ビンエッジ）
- 可視化ID

---

## 5. EOQ計算（2ツール）

### 5.1 calculate_eoq_incremental_discount

**目的**: 増分数量割引EOQ

**入力例**:
```
増分数量割引を考慮したEOQを計算してください。

パラメータ:
- 年間需要率: 12,000個
- 発注コスト: 500円
- 在庫保管費率: 20%（年間）
- 単価テーブル:
  [
    {"quantity": 0, "price": 12.0},
    {"quantity": 500, "price": 11.5},
    {"quantity": 1000, "price": 11.0},
    {"quantity": 2000, "price": 10.5}
  ]
```

**期待される結果**:
- 最適発注量
- 総コスト
- 適用される単価
- 年間発注回数

---

### 5.2 calculate_eoq_all_units_discount

**目的**: 全単位数量割引EOQ

**入力例**:
```
全単位数量割引を考慮したEOQを計算してください。

パラメータ:
- 年間需要率: 15,000個
- 発注コスト: 600円
- 在庫保管費率: 25%（年間）
- 単価テーブル:
  [
    {"quantity": 0, "price": 15.0},
    {"quantity": 800, "price": 14.0},
    {"quantity": 1500, "price": 13.0},
    {"quantity": 3000, "price": 12.0}
  ]
```

**期待される結果**:
- 最適発注量
- 総コスト
- 適用される単価
- コスト内訳

---

## 6. Wagner-Whitinアルゴリズム（1ツール）

### 6.1 calculate_wagner_whitin

**目的**: 時間変動需要に対する最適発注計画

**入力例**:
```
Wagner-Whitinアルゴリズムで最適発注計画を計算してください。

パラメータ:
- 各期の需要: [50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150, 160]
- 固定発注コスト: 500円
- 単位在庫保管費用: 2円/個/期
```

**期待される結果**:
- 総コスト
- 発注スケジュール（各期の発注量）
- 在庫レベル

---

## 7. 学習率最適化（1ツール）

### 7.1 find_optimal_learning_rate_periodic

**目的**: LR Finder法による最適学習率探索

**入力例**:
```
3段階サプライチェーンの定期発注最適化で、最適学習率を探索してください。

パラメータ:
- サンプル数: 20
- シミュレーション期間: 100期
- 段階数: 3
- 平均需要: 100個/日
- 標準偏差: 15個/日
- 最小学習率: 0.001
- 最大学習率: 10.0
- 探索反復回数: 100
- 平滑化係数: 0.05
```

**期待される結果**:
- 推奨学習率
- 学習率履歴
- コスト履歴
- 平滑化コスト履歴
- 可視化ID

---

## 8. ネットワーク分析（1ツール）

### 8.1 analyze_inventory_network

**目的**: サプライチェーンネットワークの構造分析

**入力例**:
```
以下のサプライチェーンネットワークの構造を分析してください。

品目データ（JSON形式）:
[
  {"name": "原材料A", "h": 0.5},
  {"name": "原材料B", "h": 0.8},
  {"name": "原材料C", "h": 0.6},
  {"name": "中間品1", "h": 2.0},
  {"name": "中間品2", "h": 2.5},
  {"name": "最終製品", "h": 5.0}
]

BOMデータ（JSON形式）:
[
  {"child": "原材料A", "parent": "中間品1"},
  {"child": "原材料B", "parent": "中間品1"},
  {"child": "原材料C", "parent": "中間品2"},
  {"child": "中間品1", "parent": "最終製品"},
  {"child": "中間品2", "parent": "最終製品"}
]
```

**期待される結果**:
- ネットワーク情報（ノード数、エッジ数、DAG判定、ツリー判定、閉路有無、階層数）
- ノード分析（各ノードの入次数、出次数、レベル）

---

## 9. ポリシー比較（1ツール）

### 9.1 compare_inventory_policies

**目的**: 複数の在庫方策の比較

**入力例**:
```
以下の条件で、(Q,R)方策、(s,S)方策、基在庫方策を比較してください。

パラメータ:
- 需要の平均: 100個/日
- 需要の標準偏差: 15個/日
- リードタイム: 5日
- 在庫保管費用: 1円/個/日
- バックオーダーコスト: 100円/個
- 固定発注コスト: 500円
- シミュレーションサンプル数: 50
- シミュレーション期間: 200期
```

**期待される結果**:
- 各方策の比較結果（コスト、在庫レベル、サービスレベル）
- 最適な方策の推奨

---

## 10. 可視化（10ツール）

### 10.1 visualize_last_optimization

**目的**: 最後の最適化結果の可視化

**入力例**:
```
最後に実行した最適化の結果を可視化してください。
```

**期待される結果**:
- 可視化ID
- 可視化タイプ

---

### 10.2 visualize_inventory_simulation

**目的**: 在庫シミュレーション結果の可視化

**使用方法**: シミュレーションツールの後に自動的に結果が渡されます。

---

### 10.3 visualize_demand_histogram

**目的**: 需要ヒストグラムの可視化

**入力例**:
```
以下の需要データのヒストグラムを可視化してください。

需要データ:
[88, 92, 85, 95, 90, 98, 93, 102, 96, 105, 99, 108, 102, 112, 105, 115, 108, 118, 111, 122, 115, 125, 118, 128, 121, 132, 125, 135, 128, 138, 131, 142, 135, 145, 138, 148, 141, 152, 145, 155, 148, 158, 151, 162, 155, 165, 158, 168, 161, 172]

ビン数: 25
フィッティング分布を表示: true
```

**期待される結果**:
- 可視化ID
- 分布情報

---

### 10.4 compare_inventory_costs_visual

**目的**: 在庫コストの視覚的比較

**使用方法**: `compare_inventory_policies`の後に自動的に結果が渡されます。

---

### 10.5 visualize_forecast

**目的**: 需要予測結果の可視化

**入力例**:
```
以下の過去の需要と予測結果を可視化してください。

過去の需要:
[95, 102, 98, 105, 110, 108, 115, 112, 120, 118, 125, 122, 130, 128, 135, 132, 140, 138, 145, 143]

予測値:
[147, 149, 151, 153, 155, 157, 159, 161, 163, 165]

手法: ses
```

**期待される結果**:
- 可視化ID

---

### 10.6 visualize_periodic_optimization

**目的**: 定期発注最適化の収束過程の可視化

**入力例**:
```
以下の最適化結果を可視化してください。

コスト履歴:
[1200, 1150, 1100, 1080, 1050, 1020, 1000, 980, 970, 965, 962, 960, 959, 958, 958]

基在庫レベル履歴:
[[250, 200, 180], [260, 210, 185], [270, 215, 190], ...]
```

**期待される結果**:
- 可視化ID

---

### 10.7 visualize_safety_stock_network

**目的**: 安全在庫配置ネットワークの可視化

**入力例**:
```
以下のサプライチェーンネットワークと安全在庫レベルを可視化してください。

品目データ（JSON形式）:
[
  {"name": "原材料", "h": 1.0, "average_demand": 0, "lead_time": 2.0},
  {"name": "中間品", "h": 2.0, "average_demand": 0, "lead_time": 2.0},
  {"name": "最終製品", "h": 5.0, "average_demand": 100.0, "lead_time": 1.0}
]

BOMデータ（JSON形式）:
[
  {"child": "原材料", "parent": "中間品"},
  {"child": "中間品", "parent": "最終製品"}
]

安全在庫レベル:
{"原材料": 50, "中間品": 80, "最終製品": 120}
```

**期待される結果**:
- 可視化ID

---

### 10.8 visualize_eoq

**目的**: EOQ分析の総コスト曲線の可視化

**入力例**:
```
以下の条件でEOQ分析を可視化してください。

パラメータ:
- 年間需要率: 12,000個
- 発注コスト: 500円
- 在庫保管費率: 20%
- 単価: 10円
- EOQ: 1095個（自動計算）
```

**期待される結果**:
- 可視化ID
- EOQ値

---

### 10.9 visualize_supply_chain_network

**目的**: サプライチェーンネットワーク構造の可視化

**入力例**:
```
以下のサプライチェーンネットワークを階層レイアウトで可視化してください。

品目データ（JSON形式）:
[
  {"name": "原材料A", "h": 0.5},
  {"name": "原材料B", "h": 0.8},
  {"name": "中間品", "h": 2.0},
  {"name": "最終製品", "h": 5.0}
]

BOMデータ（JSON形式）:
[
  {"child": "原材料A", "parent": "中間品"},
  {"child": "原材料B", "parent": "中間品"},
  {"child": "中間品", "parent": "最終製品"}
]

レイアウト: hierarchical
```

**期待される結果**:
- 可視化ID
- ネットワーク統計

---

### 10.10 visualize_simulation_trajectories

**目的**: シミュレーション軌道の可視化

**入力例（キャッシュ使用）**:
```
（ステップ1: シミュレーション実行）
3段階サプライチェーンで150期間のシミュレーションを実行してください。

パラメータ:
- 段階数: 3
- サンプル数: 10
- 期間: 150期
- 平均需要: 120個/日

（ステップ2: 可視化）
シミュレーション結果を可視化してください。表示サンプル数: 5
```

**期待される結果**:
- 可視化ID
- 統計情報（各段階の平均在庫、標準偏差、最小、最大）
- パラメータ

---

## 11. ユーティリティ（1ツール）

### 11.1 generate_sample_data

**目的**: テスト用サンプルデータの生成

**入力例1（需要データ）**:
```
テスト用の需要データを生成してください。

パラメータ:
- データタイプ: demand
- 期間数: 100
```

**入力例2（品目データ）**:
```
テスト用の品目データを生成してください。

パラメータ:
- データタイプ: items
- 品目数: 5
```

**入力例3（BOMデータ）**:
```
テスト用のBOMデータを生成してください。

パラメータ:
- データタイプ: bom
- 品目数: 5
```

**期待される結果**:
- サンプルデータ（JSON形式）
- データタイプ

---

## 📋 テスト実行のベストプラクティス

### 1. 順序付きテスト

推奨テスト順序：

1. **基本機能**: 安全在庫計算、EOQ計算
2. **シミュレーション**: 単一段階 → 多段階 → ネットワーク
3. **最適化**: 単純な方策 → 複雑な方策 → 学習率探索
4. **需要予測**: 分析 → 予測 → 分布フィッティング
5. **可視化**: 各機能の可視化確認
6. **統合テスト**: 複数ツールの連携テスト

### 2. パラメータのバリエーション

各ツールで以下のバリエーションをテスト：
- 小規模（段階数2-3、期間50-100）
- 中規模（段階数4-5、期間150-200）
- 大規模（段階数6-8、期間300-500）

### 3. エッジケースのテスト

- 極端なパラメータ値
- 空のデータ
- 無効なJSON形式
- ネットワーク構造の例外（閉路、非ツリー）

### 4. パフォーマンステスト

- 大規模データでの実行時間測定
- メモリ使用量の監視
- タイムアウト処理の確認

---

## 🔧 自動テストスクリプト

各フェーズのテストスクリプトを実行：

```bash
# Phase 13
python test_phase13_1.py  # 動的計画法（5テスト）
python test_phase13_2.py  # 分布ベース（7テスト）

# Phase 12
python test_phase12_1.py  # ネットワークベース（4テスト）
python test_phase12_2.py  # 軌道可視化（6テスト）

# キャッシュ機構
python test_cache_mechanism.py  # キャッシュ（3テスト）
```

**合計**: 25テストケース、100%合格率

---

## 📊 期待される結果のサマリー

### 成功判定基準

1. **status**: "success"
2. **数値結果**: 合理的な範囲内（例: コストが負でない）
3. **完全性**: 全ての必須フィールドが含まれる
4. **一貫性**: 複数回実行で安定した結果

### エラーハンドリング

全てのツールは以下の形式でエラーを返します：
```json
{
  "status": "error",
  "message": "エラーメッセージ",
  "traceback": "詳細なトレースバック"
}
```

---

## 🎯 まとめ

このドキュメントは、全34個のMCPツールを網羅的にテストするための入力例を提供しています。

**テストカバレッジ**: 100%
- 在庫最適化: 4ツール
- シミュレーション: 6ツール
- 発注方策最適化: 4ツール
- 需要予測・分析: 4ツール
- EOQ計算: 2ツール
- Wagner-Whitin: 1ツール
- 学習率最適化: 1ツール
- ネットワーク分析: 1ツール
- ポリシー比較: 1ツール
- 可視化: 10ツール
- ユーティリティ: 1ツール

**推定テスト時間**: 約2-3時間（全ツール実行）

**関連ドキュメント**:
- `MCP_TOOLS_API_REFERENCE.md`: API仕様の詳細
- `PHASE13_INPUT_EXAMPLES.md`: Phase 13の詳細な入力例
- `README.md`: プロジェクト概要

---

🤖 *Generated with [Claude Code](https://claude.com/claude-code)*
